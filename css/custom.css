/* 针对截图里的 .tagcloud 类名进行精准打击 */
.tagcloud {
  text-align: center;
  padding: 20px 0;
}

/* 标签胶囊样式 */
.tagcloud a {
  /* 必须加 !important 来覆盖主题自带的 style="color:..." */
  display: inline-block !important;
  padding: 5px 15px !important;
  margin: 5px !important;
  
  /* 强制背景色和文字颜色 */
  background: #f6f8fa !important;
  color: #555 !important; 
  
  /* 强制边框和圆角 */
  border-radius: 20px !important;
  border: 1px solid #e1e4e8 !important;
  
  /* 强制统一字号 (如果你想保留忽大忽小，就删掉下面这一行) */
  font-size: 14px !important; 
  
  text-decoration: none !important;
  transition: all 0.3s;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  line-height: 1.5 !important;
}

/* 鼠标悬停效果 */
.tagcloud a:hover {
  background: #007bff !important;
  color: #ffffff !important;
  border-color: #007bff !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,123,255,0.3);
}


/* 定义心跳动画 */
@keyframes heartBeat {
  0% { transform: scale(1); }
  14% { transform: scale(1.3); }
  28% { transform: scale(1); }
  42% { transform: scale(1.3); }
  70% { transform: scale(1); }
}

/* 选中我们在配置里写的 class="heart-emoji" */
.heart-emoji {
  display: inline-block;  /* 核心知识点：只有变成块，才能进行 scale 缩放 */
  animation: heartBeat 1.3s ease-in-out infinite;
  margin: 0 5px; /* 给爱心左右留点呼吸空间，别贴着字 */
  cursor: default; /* 鼠标放上去不变成输入光标 */
}


/* ============================================================
   Fluid Theme - 兼容移动端的子菜单美化方案
   ============================================================ */

/* --- 1. 仅在桌面端（宽度 >= 992px）启用悬停动效 --- */
@media (min-width: 992px) {
  /* 桥接：防止鼠标移出 */
  .navbar .nav-item.dropdown::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: 20px;
    background: transparent;
  }

  /* 子菜单容器：实现毛玻璃与动效 */
  .navbar .dropdown-menu {
    display: block !important; /* 桌面端强制显示以支持 Transition */
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    margin-top: 10px !important;
    border-radius: 12px !important;
    background-color: rgba(var(--navbar-bg-color-rgb), 0.75) !important;
    backdrop-filter: blur(12px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(12px) saturate(180%) !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2) !important;

    /* 初始隐藏状态 */
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  /* 悬停显示 */
  .navbar .nav-item.dropdown:hover .dropdown-menu {
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateY(0) !important;
  }

  /* 子菜单项悬停：轻微侧移 */
  .navbar .dropdown-item:hover {
    padding-left: 25px !important;
    background-color: rgba(var(--link-hover-color-rgb), 0.1) !important;
  }
}

/* --- 2. 针对移动端（宽度 < 992px）的优化 --- */
@media (max-width: 991.98px) {
  .navbar .dropdown-menu {
    /* 1. 核心改动：不再使用 display: none */
    display: block !important; 
    
    /* 2. 初始状态：高度为0，透明度为0，溢出隐藏 */
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    
    /* 3. 基础样式重置 */
    border: none !important;
    background-color: transparent !important;
    box-shadow: none !important;
    padding: 0 1.5rem !important; /* 增加缩进，体现层级 */
    margin: 0 !important;
    
    /* 4. 定义平滑过渡：针对高度和透明度 */
    /* 使用 ease-in-out 让展开和收起看起来更自然 */
    transition: max-height 0.35s ease-in-out, opacity 0.3s ease-in-out !important;
  }

  /* 5. 当点击展开时 (.show 类被 Fluid 的 JS 添加) */
  .navbar .dropdown-menu.show {
    /* 这里的 max-height 设为一个大于你子菜单实际高度的值即可 */
    max-height: 500px; 
    opacity: 1;
    padding-top: 5px !important;
    padding-bottom: 10px !important;
  }

  /* 移动端子菜单项的点击反馈 */
  .navbar .dropdown-item {
    color: var(--navbar-text-color) !important;
    padding: 8px 0 !important;
    background: none !important;
    transition: color 0.2s ease;
  }

  .navbar .dropdown-item:active {
    color: var(--link-hover-color) !important;
  }
}